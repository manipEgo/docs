import{_ as s,p as e,s as t,K as a,R as T,n as Q}from"./chunks/framework.EoKL5TQy.js";const Z4=JSON.parse('{"title":"可逆的插件系统","description":"","frontmatter":{},"headers":[],"relativePath":"ja-JP/cookbook/design/disposable.md","filePath":"ja-JP/cookbook/design/disposable.md"}'),l={name:"ja-JP/cookbook/design/disposable.md"},o=T("",28),n={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},i={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.65ex"},xmlns:"http://www.w3.org/2000/svg",width:"14.989ex",height:"2.245ex",role:"img",focusable:"false",viewBox:"0 -705 6625.2 992.2","aria-hidden":"true"},d=T("",1),r=[d],m=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msub",null,[t("mi",null,"f"),t("mtext",null,"impure")]),t("mo",null,":"),t("mtext",null,"X"),t("mo",{accent:"false",stretchy:"false"},"→"),t("mtext",null,"Y")])],-1),h={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},p={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.057ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.192ex",height:"1.652ex",role:"img",focusable:"false",viewBox:"0 -705 527 730","aria-hidden":"true"},c=T("",1),g=[c],x=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")])])],-1),w={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},k={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.464ex"},xmlns:"http://www.w3.org/2000/svg",width:"17.959ex",height:"2.059ex",role:"img",focusable:"false",viewBox:"0 -705 7938 910","aria-hidden":"true"},H=T("",1),u=[H],_=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mi",null,"f"),t("mo",null,":"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")]),t("mo",null,"×"),t("mtext",null,"X"),t("mo",{accent:"false",stretchy:"false"},"→"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")]),t("mo",null,"×"),t("mtext",null,"Y")])],-1),V={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},f={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.057ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.192ex",height:"1.652ex",role:"img",focusable:"false",viewBox:"0 -705 527 730","aria-hidden":"true"},y=T("",1),L=[y],M=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")])])],-1),v={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},b={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.057ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.192ex",height:"1.652ex",role:"img",focusable:"false",viewBox:"0 -705 527 730","aria-hidden":"true"},Z=T("",1),C=[Z],j=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")])])],-1),A={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},D={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.464ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.244ex",height:"2.059ex",role:"img",focusable:"false",viewBox:"0 -705 550 910","aria-hidden":"true"},B=t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D453",d:"M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z",style:{"stroke-width":"3"}})])])],-1),E=[B],S=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"f")])],-1),R={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},O={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.346ex"},xmlns:"http://www.w3.org/2000/svg",width:"10.303ex",height:"1.941ex",role:"img",focusable:"false",viewBox:"0 -705 4554.1 858","aria-hidden":"true"},F=T("",1),P=[F],I=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"fraktur"},"F")]),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")]),t("mo",{accent:"false",stretchy:"false"},"→"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")])])],-1),N={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},X={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.464ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.513ex",height:"2.059ex",role:"img",focusable:"false",viewBox:"0 -705 1994.6 910","aria-hidden":"true"},J=T("",1),z=[J],G=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"f"),t("mo",null,":"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"fraktur"},"F")])])],-1),q={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},K={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.057ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.192ex",height:"1.652ex",role:"img",focusable:"false",viewBox:"0 -705 527 730","aria-hidden":"true"},$=T("",1),Y=[$],U=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")])])],-1),W={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},t1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0.124ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.131ex",height:"0.88ex",role:"img",focusable:"false",viewBox:"0 -444 500 389","aria-hidden":"true"},a1=t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mo"},[t("path",{"data-c":"2218",d:"M55 251Q55 328 112 386T249 444T386 388T444 249Q444 171 388 113T250 55Q170 55 113 112T55 251ZM245 403Q188 403 142 361T96 250Q96 183 141 140T250 96Q284 96 313 109T354 135T375 160Q403 197 403 250Q403 313 360 358T245 403Z",style:{"stroke-width":"3"}})])])],-1),e1=[a1],Q1=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mo",null,"∘")])],-1),T1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},s1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.464ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.46ex",height:"2.059ex",role:"img",focusable:"false",viewBox:"0 -705 1971.4 910","aria-hidden":"true"},l1=T("",1),o1=[l1],n1=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"f"),t("mo",null,"∘"),t("mi",null,"g")])],-1),i1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},d1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.057ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.192ex",height:"1.652ex",role:"img",focusable:"false",viewBox:"0 -705 527 730","aria-hidden":"true"},r1=T("",1),m1=[r1],h1=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")])])],-1),p1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},c1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"22.338ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 9873.3 1000","aria-hidden":"true"},g1=T("",1),x1=[g1],w1=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mo",{stretchy:"false"},"("),t("mi",null,"f"),t("mo",null,"∘"),t("mi",null,"g"),t("mo",{stretchy:"false"},")"),t("mo",null,"∘"),t("mi",null,"h"),t("mo",null,"="),t("mi",null,"f"),t("mo",null,"∘"),t("mo",{stretchy:"false"},"("),t("mi",null,"g"),t("mo",null,"∘"),t("mi",null,"h"),t("mo",{stretchy:"false"},")")])],-1),k1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},H1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.887ex",height:"1.595ex",role:"img",focusable:"false",viewBox:"0 -694 834 705","aria-hidden":"true"},u1=T("",1),_1=[u1],V1=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mtext",null,"id")])],-1),f1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},y1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.464ex"},xmlns:"http://www.w3.org/2000/svg",width:"17.814ex",height:"2.059ex",role:"img",focusable:"false",viewBox:"0 -705 7874 910","aria-hidden":"true"},L1=T("",1),M1=[L1],v1=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"f"),t("mo",null,"∘"),t("mtext",null,"id"),t("mo",null,"="),t("mtext",null,"id"),t("mo",null,"∘"),t("mi",null,"f"),t("mo",null,"="),t("mi",null,"f")])],-1),b1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Z1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.464ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.244ex",height:"2.059ex",role:"img",focusable:"false",viewBox:"0 -705 550 910","aria-hidden":"true"},C1=t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D453",d:"M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z",style:{"stroke-width":"3"}})])])],-1),j1=[C1],A1=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"f")])],-1),D1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},B1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.464ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.244ex",height:"2.059ex",role:"img",focusable:"false",viewBox:"0 -705 550 910","aria-hidden":"true"},E1=t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D453",d:"M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z",style:{"stroke-width":"3"}})])])],-1),S1=[E1],R1=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"f")])],-1),O1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},F1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.464ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.597ex",height:"2.351ex",role:"img",focusable:"false",viewBox:"0 -833.9 1589.7 1038.9","aria-hidden":"true"},P1=T("",1),I1=[P1],N1=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mi",null,"f"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"−"),t("mn",null,"1")])])])],-1),X1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},J1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.346ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.382ex",height:"1.898ex",role:"img",focusable:"false",viewBox:"0 -686 611 839","aria-hidden":"true"},z1=T("",1),G1=[z1],q1=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"fraktur"},"F")])])],-1),K1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},$1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.278ex",height:"1.62ex",role:"img",focusable:"false",viewBox:"0 -705 2333 716","aria-hidden":"true"},Y1=T("",1),U1=[Y1],W1=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mtext",null,"effect")])],-1),t3={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},a3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.374ex"},xmlns:"http://www.w3.org/2000/svg",width:"45.96ex",height:"5.88ex",role:"img",focusable:"false",viewBox:"0 -1549.5 20314.2 2599","aria-hidden":"true"},e3=T("",1),Q3=[e3],T3=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{columnalign:"",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("mtext",null,"effect")]),t("mtd",null,[t("mo",null,":")]),t("mtd",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"fraktur"},"F")])]),t("mtd",null,[t("mo",{accent:"false",stretchy:"false"},"→")]),t("mtd",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")]),t("mo",null,"×"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"fraktur"},"F")])]),t("mtd",null,[t("mo",{accent:"false",stretchy:"false"},"→")]),t("mtd",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")]),t("mo",null,"×"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"fraktur"},"F")])])]),t("mtr",null,[t("mtd",null,[t("mtext",null,"effect")]),t("mtd",null,[t("mo",null,"=")]),t("mtd",null,[t("mi",null,"f")]),t("mtd",null,[t("mo",{stretchy:"false"},"↦")]),t("mtd",null,[t("mrow",{"data-mjx-texclass":"INNER"},[t("mo",{"data-mjx-texclass":"OPEN"},"("),t("mi",null,"c"),t("mo",null,","),t("mi",null,"h"),t("mo",{"data-mjx-texclass":"CLOSE"},")")])]),t("mtd",null,[t("mo",{stretchy:"false"},"↦")]),t("mtd",null,[t("mrow",{"data-mjx-texclass":"INNER"},[t("mo",{"data-mjx-texclass":"OPEN"},"("),t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("mi",null,"c"),t("mo",{stretchy:"false"},")"),t("mo",null,","),t("mi",null,"h"),t("mo",null,"∘"),t("msup",null,[t("mi",null,"f"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"−"),t("mn",null,"1")])]),t("mo",{"data-mjx-texclass":"CLOSE"},")")])])])])])],-1),s3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},l3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.278ex",height:"1.62ex",role:"img",focusable:"false",viewBox:"0 -705 2333 716","aria-hidden":"true"},o3=T("",1),n3=[o3],i3=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mtext",null,"effect")])],-1),d3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},r3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.346ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.382ex",height:"1.898ex",role:"img",focusable:"false",viewBox:"0 -686 611 839","aria-hidden":"true"},m3=T("",1),h3=[m3],p3=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"fraktur"},"F")])])],-1),c3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},g3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.346ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.34ex",height:"1.941ex",role:"img",focusable:"false",viewBox:"0 -705 2360.4 858","aria-hidden":"true"},x3=T("",1),w3=[x3],k3=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")]),t("mo",null,"×"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"fraktur"},"F")])])],-1),H3={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},u3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-5.77ex"},xmlns:"http://www.w3.org/2000/svg",width:"44.439ex",height:"12.67ex",role:"img",focusable:"false",viewBox:"0 -3050.1 19642 5600.3","aria-hidden":"true"},_3=T("",1),V3=[_3],f3=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{displaystyle:"true",columnalign:"right left",columnspacing:"0em",rowspacing:"3pt"},[t("mtr",null,[t("mtd",null,[t("mtext",null,"effect"),t("mtext",null," "),t("mo",{stretchy:"false"},"("),t("mi",null,"f"),t("mo",null,"∘"),t("mi",null,"g"),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"INNER"},[t("mo",{"data-mjx-texclass":"OPEN"},"("),t("mi",null,"c"),t("mo",null,","),t("mi",null,"h"),t("mo",{"data-mjx-texclass":"CLOSE"},")")])]),t("mtd",null,[t("mi"),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"INNER"},[t("mo",{"data-mjx-texclass":"OPEN"},"("),t("mo",{stretchy:"false"},"("),t("mi",null,"f"),t("mo",null,"∘"),t("mi",null,"g"),t("mo",{stretchy:"false"},")"),t("mo",{stretchy:"false"},"("),t("mi",null,"c"),t("mo",{stretchy:"false"},")"),t("mo",null,","),t("mi",null,"h"),t("mo",null,"∘"),t("mo",{stretchy:"false"},"("),t("mi",null,"f"),t("mo",null,"∘"),t("mi",null,"g"),t("msup",null,[t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"−"),t("mn",null,"1")])]),t("mo",{"data-mjx-texclass":"CLOSE"},")")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mi"),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"INNER"},[t("mo",{"data-mjx-texclass":"OPEN"},"("),t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("mi",null,"g"),t("mo",{stretchy:"false"},"("),t("mi",null,"c"),t("mo",{stretchy:"false"},")"),t("mo",{stretchy:"false"},")"),t("mo",null,","),t("mi",null,"h"),t("mo",null,"∘"),t("msup",null,[t("mi",null,"g"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"−"),t("mn",null,"1")])]),t("mo",null,"∘"),t("msup",null,[t("mi",null,"f"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"−"),t("mn",null,"1")])]),t("mo",{"data-mjx-texclass":"CLOSE"},")")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mi"),t("mo",null,"="),t("mtext",null,"effect"),t("mtext",null," "),t("mi",null,"f"),t("mrow",{"data-mjx-texclass":"INNER"},[t("mo",{"data-mjx-texclass":"OPEN"},"("),t("mi",null,"g"),t("mo",{stretchy:"false"},"("),t("mi",null,"c"),t("mo",{stretchy:"false"},")"),t("mo",null,","),t("mi",null,"h"),t("mo",null,"∘"),t("msup",null,[t("mi",null,"g"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"−"),t("mn",null,"1")])]),t("mo",{"data-mjx-texclass":"CLOSE"},")")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mi"),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"INNER"},[t("mo",{"data-mjx-texclass":"OPEN"},"("),t("mtext",null,"effect"),t("mtext",null," "),t("mi",null,"f"),t("mo",null,"∘"),t("mtext",null,"effect"),t("mtext",null," "),t("mi",null,"g"),t("mo",{"data-mjx-texclass":"CLOSE"},")")]),t("mrow",{"data-mjx-texclass":"INNER"},[t("mo",{"data-mjx-texclass":"OPEN"},"("),t("mi",null,"c"),t("mo",null,","),t("mi",null,"h"),t("mo",{"data-mjx-texclass":"CLOSE"},")")])])])])])],-1),y3=T("",3),L3={class:"tip custom-block"},M3=t("p",{class:"custom-block-title"},"TIP",-1),v3=t("p",null,"你可能很难将这段 TypeScript 代码与上面的数学定义对应起来，这是因为 TypeScript 并不是一个纯函数式语言。具体而言，这段代码以如下的方式建立对应关系：",-1),b3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Z3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.346ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.34ex",height:"1.941ex",role:"img",focusable:"false",viewBox:"0 -705 2360.4 858","aria-hidden":"true"},C3=T("",1),j3=[C3],A3=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")]),t("mo",null,"×"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"fraktur"},"F")])])],-1),D3=t("code",null,"port",-1),B3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},E3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"1.697ex",height:"1.545ex",role:"img",focusable:"false",viewBox:"0 -683 750 683","aria-hidden":"true"},S3=t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mtext"},[t("path",{"data-c":"58",d:"M270 0Q252 3 141 3Q46 3 31 0H23V46H40Q129 50 161 88Q165 94 244 216T324 339Q324 341 235 480T143 622Q133 631 119 634T57 637H37V683H46Q64 680 172 680Q297 680 318 683H329V637H324Q307 637 286 632T263 621Q263 618 322 525T384 431Q385 431 437 511T489 593Q490 595 490 599Q490 611 477 622T436 637H428V683H437Q455 680 566 680Q661 680 676 683H684V637H667Q585 634 551 599Q548 596 478 491Q412 388 412 387Q412 385 514 225T620 62Q628 53 642 50T695 46H726V0H717Q699 3 591 3Q466 3 445 0H434V46H440Q454 46 476 51T499 64Q499 67 463 124T390 238L353 295L350 292Q348 290 343 283T331 265T312 236T286 195Q219 88 218 84Q218 70 234 59T272 46H280V0H270Z",style:{"stroke-width":"3"}})])])],-1),R3=[S3],O3=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mtext",null,"X")])],-1),F3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},P3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.278ex",height:"1.62ex",role:"img",focusable:"false",viewBox:"0 -705 2333 716","aria-hidden":"true"},I3=T("",1),N3=[I3],X3=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mtext",null,"effect")])],-1),J3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},z3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.346ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.34ex",height:"1.941ex",role:"img",focusable:"false",viewBox:"0 -705 2360.4 858","aria-hidden":"true"},G3=T("",1),q3=[G3],K3=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")]),t("mo",null,"×"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"fraktur"},"F")])])],-1),$3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Y3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.686ex",height:"1.416ex",role:"img",focusable:"false",viewBox:"0 -615 2955 626","aria-hidden":"true"},U3=T("",1),W3=[U3],t2=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mtext",null,"restore")])],-1),a2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},e2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.278ex",height:"1.62ex",role:"img",focusable:"false",viewBox:"0 -705 2333 716","aria-hidden":"true"},Q2=T("",1),T2=[Q2],s2=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mtext",null,"effect")])],-1),l2={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},o2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.149ex"},xmlns:"http://www.w3.org/2000/svg",width:"33.794ex",height:"5.43ex",role:"img",focusable:"false",viewBox:"0 -1450 14937.1 2400","aria-hidden":"true"},n2=T("",1),i2=[n2],d2=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{columnalign:"",columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("mtext",null,"restore")]),t("mtd",null,[t("mo",null,":")]),t("mtd",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")]),t("mo",null,"×"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"fraktur"},"F")])]),t("mtd",null,[t("mo",{accent:"false",stretchy:"false"},"→")]),t("mtd",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")]),t("mo",null,"×"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"fraktur"},"F")])])]),t("mtr",null,[t("mtd",null,[t("mtext",null,"restore")]),t("mtd",null,[t("mo",null,"=")]),t("mtd",null,[t("mrow",{"data-mjx-texclass":"INNER"},[t("mo",{"data-mjx-texclass":"OPEN"},"("),t("mi",null,"c"),t("mo",null,","),t("mi",null,"h"),t("mo",{"data-mjx-texclass":"CLOSE"},")")])]),t("mtd",null,[t("mo",{stretchy:"false"},"↦")]),t("mtd",null,[t("mrow",{"data-mjx-texclass":"INNER"},[t("mo",{"data-mjx-texclass":"OPEN"},"("),t("mi",null,"h"),t("mo",{stretchy:"false"},"("),t("mi",null,"c"),t("mo",{stretchy:"false"},")"),t("mo",null,","),t("mtext",null,"id"),t("mo",{"data-mjx-texclass":"CLOSE"},")")])])])])])],-1),r2=T("",2),m2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},h2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.346ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.34ex",height:"1.941ex",role:"img",focusable:"false",viewBox:"0 -705 2360.4 858","aria-hidden":"true"},p2=T("",1),c2=[p2],g2=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")]),t("mo",null,"×"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"fraktur"},"F")])])],-1),x2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},w2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.057ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.192ex",height:"1.652ex",role:"img",focusable:"false",viewBox:"0 -705 527 730","aria-hidden":"true"},k2=T("",1),H2=[k2],u2=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")])])],-1),_2={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},V2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"25.177ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 11128.1 1000","aria-hidden":"true"},f2=T("",1),y2=[f2],L2=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")]),t("mn",null,"1")]),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")]),t("mo",null,"×"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"fraktur"},"F")]),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")]),t("mo",null,"×"),t("mrow",{"data-mjx-texclass":"INNER"},[t("mo",{"data-mjx-texclass":"OPEN"},"("),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")]),t("mo",{accent:"false",stretchy:"false"},"→"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")]),t("mo",{"data-mjx-texclass":"CLOSE"},")")])])],-1),M2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},v2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.057ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.192ex",height:"1.652ex",role:"img",focusable:"false",viewBox:"0 -705 527 730","aria-hidden":"true"},b2=T("",1),Z2=[b2],C2=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")])])],-1),j2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},A2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.339ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.18ex",height:"1.934ex",role:"img",focusable:"false",viewBox:"0 -705 963.6 855","aria-hidden":"true"},D2=T("",1),B2=[D2],E2=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")]),t("mn",null,"1")])])],-1),S2=t("h3",{id:"上下文与插件",tabindex:"-1"},[a("上下文与插件 "),t("a",{class:"header-anchor",href:"#上下文与插件","aria-label":'Permalink to "上下文与插件"'},"​")],-1),R2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},O2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.057ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.192ex",height:"1.652ex",role:"img",focusable:"false",viewBox:"0 -705 527 730","aria-hidden":"true"},F2=T("",1),P2=[F2],I2=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")])])],-1),N2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},X2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.057ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.192ex",height:"1.652ex",role:"img",focusable:"false",viewBox:"0 -705 527 730","aria-hidden":"true"},J2=T("",1),z2=[J2],G2=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")])])],-1),q2=t("p",null,"首先，所有插件都使用相同的全局函数，意味着不同插件的副作用完全无法区分，因此只能重启整个应用而无法细粒度地控制具体的插件；其次，这种设计意味着全局函数并不纯，因此一旦项目中出现了多例的依赖，整套系统的可靠性就会完全失效！",-1),K2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},$2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.057ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.192ex",height:"1.652ex",role:"img",focusable:"false",viewBox:"0 -705 527 730","aria-hidden":"true"},Y2=T("",1),U2=[Y2],W2=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")])])],-1),t4={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},a4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.057ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.192ex",height:"1.652ex",role:"img",focusable:"false",viewBox:"0 -705 527 730","aria-hidden":"true"},e4=T("",1),Q4=[e4],T4=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")])])],-1),s4={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},l4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.057ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.192ex",height:"1.652ex",role:"img",focusable:"false",viewBox:"0 -705 527 730","aria-hidden":"true"},o4=T("",1),n4=[o4],i4=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")])])],-1),d4=T("",9),r4={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},m4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.057ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.192ex",height:"1.652ex",role:"img",focusable:"false",viewBox:"0 -705 527 730","aria-hidden":"true"},h4=T("",1),p4=[h4],c4=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")])])],-1),g4={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},x4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-5.317ex"},xmlns:"http://www.w3.org/2000/svg",width:"22.467ex",height:"11.765ex",role:"img",focusable:"false",viewBox:"0 -2850 9930.3 5200","aria-hidden":"true"},w4=T("",1),k4=[w4],H4=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")]),t("mn",null,"1")]),t("mo",null,"="),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")]),t("mn",null,"0")]),t("mo",null,"×"),t("mrow",{"data-mjx-texclass":"INNER"},[t("mo",{"data-mjx-texclass":"OPEN"},"("),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")]),t("mn",null,"0")]),t("mo",{accent:"false",stretchy:"false"},"→"),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")]),t("mn",null,"0")]),t("mo",{"data-mjx-texclass":"CLOSE"},")")])])]),t("mtr",null,[t("mtd",null,[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")]),t("mn",null,"2")]),t("mo",null,"="),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")]),t("mn",null,"1")]),t("mo",null,"×"),t("mrow",{"data-mjx-texclass":"INNER"},[t("mo",{"data-mjx-texclass":"OPEN"},"("),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")]),t("mn",null,"1")]),t("mo",{accent:"false",stretchy:"false"},"→"),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")]),t("mn",null,"1")]),t("mo",{"data-mjx-texclass":"CLOSE"},")")])])]),t("mtr",null,[t("mtd",null,[t("mo",null,"⋯")])]),t("mtr",null,[t("mtd",null,[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"n"),t("mo",null,"+"),t("mn",null,"1")])]),t("mo",null,"="),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")]),t("mi",null,"n")]),t("mo",null,"×"),t("mrow",{"data-mjx-texclass":"INNER"},[t("mo",{"data-mjx-texclass":"OPEN"},"("),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")]),t("mi",null,"n")]),t("mo",{accent:"false",stretchy:"false"},"→"),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{"data-mjx-variant":"-tex-calligraphic",mathvariant:"script"},"C")]),t("mi",null,"n")]),t("mo",{"data-mjx-texclass":"CLOSE"},")")])])])])])],-1),u4=T("",10);function _4(V4,f4,y4,L4,M4,v4){return Q(),e("div",null,[o,t("mjx-container",n,[(Q(),e("svg",i,r)),m]),t("p",null,[a("假设它含有副作用，我们把所有可能的副作用用类型 "),t("mjx-container",h,[(Q(),e("svg",p,g)),x]),a(" 封装起来，则该函数可以被转化为：")]),t("mjx-container",w,[(Q(),e("svg",k,u)),_]),t("p",null,[a("此时我们得到的就一个纯函数，它接受 "),t("mjx-container",V,[(Q(),e("svg",f,L)),M]),a(" 和参数，返回修改过的 "),t("mjx-container",v,[(Q(),e("svg",b,C)),j]),a(" 和返回值。")]),t("p",null,[a("如果忽略 "),t("mjx-container",A,[(Q(),e("svg",D,E)),S]),a(" 本身的入参和出参，只考虑副作用，那么可以定义函数空间 "),t("mjx-container",R,[(Q(),e("svg",O,P)),I]),a("。其中的任何一个函数 "),t("mjx-container",N,[(Q(),e("svg",X,z)),G]),a(" 都是 "),t("mjx-container",q,[(Q(),e("svg",K,Y)),U]),a(" 到自身的变换，不难看出它们在函数结合 "),t("mjx-container",W,[(Q(),e("svg",t1,e1)),Q1]),a(" 下构成幺半群：")]),t("ol",null,[t("li",null,[a("封闭性："),t("mjx-container",T1,[(Q(),e("svg",s1,o1)),n1]),a(" 也是 "),t("mjx-container",i1,[(Q(),e("svg",d1,m1)),h1]),a(" 到自身的变换。")]),t("li",null,[a("结合律："),t("mjx-container",p1,[(Q(),e("svg",c1,x1)),w1]),a("。")]),t("li",null,[a("单位元：存在 "),t("mjx-container",k1,[(Q(),e("svg",H1,_1)),V1]),a("，使得 "),t("mjx-container",f1,[(Q(),e("svg",y1,M1)),v1]),a("。")])]),t("p",null,[a("进一步，我们还希望 "),t("mjx-container",b1,[(Q(),e("svg",Z1,j1)),A1]),a(" 的副作用是可以回收的。换言之，我们额外要求 "),t("mjx-container",D1,[(Q(),e("svg",B1,S1)),R1]),a(" 存在逆元 "),t("mjx-container",O1,[(Q(),e("svg",F1,I1)),N1]),a("，此时 "),t("mjx-container",X1,[(Q(),e("svg",J1,G1)),q1]),a(" 就构成一个群。但仅仅知道函数可逆并不能帮助我们找到它的逆，我们需要在书写这个函数时一并写出它的回收方法。因此我们引入 "),t("mjx-container",K1,[(Q(),e("svg",$1,U1)),W1]),a(" 函子，使这个函数返回一个新的函数，这个函数可用于回收此次调用的副作用：")]),t("mjx-container",t3,[(Q(),e("svg",a3,Q3)),T3]),t("p",null,[a("可以证明 "),t("mjx-container",s3,[(Q(),e("svg",l3,n3)),i3]),a(" 是一个 "),t("mjx-container",d3,[(Q(),e("svg",r3,h3)),p3]),a(" 到 "),t("mjx-container",c3,[(Q(),e("svg",g3,w3)),k3]),a(" 的同态：")]),t("mjx-container",H3,[(Q(),e("svg",u3,V3)),f3]),y3,t("div",L3,[M3,v3,t("ul",null,[t("li",null,[t("mjx-container",b3,[(Q(),e("svg",Z3,j3)),A3]),a(" 对应着全局环境 (我们稍后会提到全局环境的坏处，但不影响这里的理解)")]),t("li",null,[D3,a(" 对应于上面的 "),t("mjx-container",B3,[(Q(),e("svg",E3,R3)),O3]),a("，由于我们可以使用柯里化，所以在数学模型中并不需要考虑它")])])]),t("p",null,[a("为什么需要引入这个 "),t("mjx-container",F3,[(Q(),e("svg",P3,N3)),X3]),a(" 和 "),t("mjx-container",J3,[(Q(),e("svg",z3,q3)),K3]),a(" 呢？它的作用是将副作用从函数的返回值中分离出来，从而实现副作用的回收。只需定义 "),t("mjx-container",$3,[(Q(),e("svg",Y3,W3)),t2]),a(" 变换 (不难发现它确实是 "),t("mjx-container",a2,[(Q(),e("svg",e2,T2)),s2]),a(" 的逆操作)：")]),t("mjx-container",l2,[(Q(),e("svg",o2,i2)),d2]),r2,t("p",null,[a("当副作用被记录到全局环境时，"),t("mjx-container",m2,[(Q(),e("svg",h2,c2)),g2]),a(" 也就变成了一个更大的 "),t("mjx-container",x2,[(Q(),e("svg",w2,H2)),u2]),a("。我们便可以这样定义：")]),t("mjx-container",_2,[(Q(),e("svg",V2,y2)),L2]),t("p",null,[a("下文中我们将直接使用 "),t("mjx-container",M2,[(Q(),e("svg",v2,Z2)),C2]),a(" 来表示 "),t("mjx-container",j2,[(Q(),e("svg",A2,B2)),E2]),a("。")]),S2,t("p",null,[a("在上面的示例中，我们并没有显式地写出 "),t("mjx-container",R2,[(Q(),e("svg",O2,P2)),I2]),a(" 参数和返回值。可以认为对 "),t("mjx-container",N2,[(Q(),e("svg",X2,z2)),G2]),a(" 的变换存在于所有全局函数的闭包中。这种设计广泛存在于各种组合式框架 (尤其是像 React 这样的前端框架)，但一些缺陷使其并不适合插件化和规模化的场景。")]),q2,t("p",null,[a("引入显式 "),t("mjx-container",K2,[(Q(),e("svg",$2,U2)),W2]),a(" 变换会降低应用的可读性，忽略显式 "),t("mjx-container",t4,[(Q(),e("svg",a4,Q4)),T4]),a(" 变换又存在上述缺陷。那么有没有办法在不增加心智负担的同时编写可靠的插件呢？Cordis 通过上下文对象给出了完美的解决方案。")]),t("p",null,[a("上下文对象是一个插件中唯一的可变部分，它同时担任了 "),t("mjx-container",s4,[(Q(),e("svg",l4,n4)),i4]),a(" 参数和返回值的角色。在上面的示例中引入上下文对象，就得到了熟悉的 Koishi 插件：")]),d4,t("p",null,[a("进一步，如果这个 API 本身还存在副作用，那提供此 API 的插件其实占用的是一种能占用资源的资源，一种高阶资源。就如同高阶函数一样，我们的 "),t("mjx-container",r4,[(Q(),e("svg",m4,p4)),c4]),a(" 也可以是高阶的：")]),t("mjx-container",g4,[(Q(),e("svg",x4,k4)),H4]),u4])}const C4=s(l,[["render",_4]]);export{Z4 as __pageData,C4 as default};
